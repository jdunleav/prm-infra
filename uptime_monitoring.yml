version: 0.1

phases:
  install:
    commands:
      - sudo apt-get update
      - sudo apt-get install zip
  build:
    commands:
      - echo Build started on ServerlessExample
      - echo Lambda is being zipped
      - cd lambda/uptime_monitoring && pwd && ls && zip ../../uptime_monitoring main.js
      - echo Uploading zip file to bucket
      - aws s3 cp uptime_monitoring.zip s3://uptime-monitoring-bucket/uptime_monitoring.zip
      - echo Build completed
